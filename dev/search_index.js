var documenterSearchIndex = {"docs":
[{"location":"api/highlevel/#High-level-Interface","page":"High-level Interface","title":"High-level Interface","text":"","category":"section"},{"location":"api/highlevel/","page":"High-level Interface","title":"High-level Interface","text":"The high-level interface provides a simple, Julia-friendly way to use KIM-API models without dealing with the underlying C API complexity.","category":"page"},{"location":"api/highlevel/#KIM.KIMModel","page":"High-level Interface","title":"KIM.KIMModel","text":"KIMModel(model_name::String; units=:metal, neighbor_function=nothing, compute=[:energy, :forces]) -> Function\n\nCreate a high-level KIM model computation function.\n\nThis function initializes a KIM-API model and returns a closure that can be called repeatedly to perform energy and force calculations. The returned function handles all low-level KIM-API operations automatically.\n\nArguments\n\nmodel_name::String: KIM model identifier (e.g., \"SWStillingerWeber1985Si__MO405512056662_006\")\n\nKeyword Arguments\n\nunits::Union{Symbol,NamedTuple}: Unit system to use. Can be:\n:metal: Å, eV, e, K, ps (LAMMPS metal units)\n:real: Å, kcal/mol, e, K, fs (LAMMPS real units)\n:si: m, J, C, K, s (SI units)\n:cgs: cm, erg, statC, K, s (CGS units)\n:electron: Bohr, Hartree, e, K, fs (Atomic units)\nCustom named tuple of units:  (leng)\nneighbor_function: Custom neighbor function (not yet implemented)\ncompute::Vector{Symbol}: Properties to compute, can include :energy and/or :forces\n\nReturns\n\nA function f(species, positions, cell, pbc) that:\n\nAccepts:\nspecies::Vector{String}: Chemical symbols for each atom\npositions::Vector{SVector{3,Float64}}: Atomic positions\ncell::Matrix{Float64}: Unit cell matrix (3×3)\npbc::Vector{Bool}: Periodic boundary conditions [x,y,z]\nReturns:\nDict{Symbol,Any}: Results with keys :energy and/or :forces\n\nThrows\n\nErrorException: If model creation fails or requested properties not supported\n\nExample\n\nusing KIM, StaticVectors, LinearAlgebra\n\n# Create model function\nmodel = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\")\n\n# Define system\nspecies = [\"Si\", \"Si\"]\npositions = [SVector(0.0, 0.0, 0.0), SVector(1.0, 1.0, 1.0)]\ncell = Matrix(5.43 * I(3))  # Silicon lattice parameter\npbc = [true, true, true]\n\n# Compute properties\nresults = model(species, positions, cell, pbc)\nprintln(\"Energy: \", results[:energy])\nprintln(\"Forces: \", results[:forces])\n\nImplementation Notes\n\nAutomatically generates ghost atoms for periodic boundary conditions\nPre-computes species mappings for efficiency\nHandles multiple cutoff distances if required by the model\nUses zero-based indexing internally to match KIM-API conventions\n\n\n\n\n\n","category":"function"},{"location":"api/highlevel/#Usage-Examples","page":"High-level Interface","title":"Usage Examples","text":"","category":"section"},{"location":"api/highlevel/#Basic-Usage","page":"High-level Interface","title":"Basic Usage","text":"","category":"section"},{"location":"api/highlevel/","page":"High-level Interface","title":"High-level Interface","text":"using KIM\n\n# Create model for silicon\nmodel = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\")\n\n# Simple two-atom system\nspecies = [\"Si\", \"Si\"] \npositions = [SVector(0.0, 0.0, 0.0), SVector(2.7, 2.7, 2.7)]\ncell = 5.43 * I(3)\npbc = [true, true, true]\n\n# Compute properties\nresults = model(species, positions, cell, pbc)","category":"page"},{"location":"api/highlevel/#Different-Unit-Systems","page":"High-level Interface","title":"Different Unit Systems","text":"","category":"section"},{"location":"api/highlevel/","page":"High-level Interface","title":"High-level Interface","text":"# Use LAMMPS real units (Å, kcal/mol, fs)\nmodel_real = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\", \n                      units=:real)\n\n# Use SI units (m, J, s)  \nmodel_si = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\",\n                    units=:si)\n\n# Custom units\nmodel_custom = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\",\n                        units=(A, eV, e, K, ps))","category":"page"},{"location":"api/highlevel/#Energy-only-Calculations","page":"High-level Interface","title":"Energy-only Calculations","text":"","category":"section"},{"location":"api/highlevel/","page":"High-level Interface","title":"High-level Interface","text":"# Only compute energy (faster for some applications)\nmodel_energy = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\",\n                        compute=[:energy])\n\nresults = model_energy(species, positions, cell, pbc)\n# results[:forces] will not be available","category":"page"},{"location":"api/highlevel/#Function-Signature","page":"High-level Interface","title":"Function Signature","text":"","category":"section"},{"location":"api/highlevel/","page":"High-level Interface","title":"High-level Interface","text":"The function returned by KIMModel() has the signature:","category":"page"},{"location":"api/highlevel/","page":"High-level Interface","title":"High-level Interface","text":"f(species, positions, cell, pbc) -> Dict{Symbol, Any}","category":"page"},{"location":"api/highlevel/#Parameters","page":"High-level Interface","title":"Parameters","text":"","category":"section"},{"location":"api/highlevel/","page":"High-level Interface","title":"High-level Interface","text":"species::Vector{String}: Chemical symbols for each atom (e.g., [\"Si\", \"C\", \"O\"])\npositions::Vector{SVector{3,Float64}}: Atomic coordinates as 3D vectors\ncell::Matrix{Float64}: Unit cell matrix (3×3, column vectors are lattice vectors)\npbc::Vector{Bool}: Periodic boundary conditions [x, y, z]","category":"page"},{"location":"api/highlevel/#Returns","page":"High-level Interface","title":"Returns","text":"","category":"section"},{"location":"api/highlevel/","page":"High-level Interface","title":"High-level Interface","text":"Dictionary with computed properties:","category":"page"},{"location":"api/highlevel/","page":"High-level Interface","title":"High-level Interface","text":":energy: Total potential energy (scalar)\n:forces: Forces on each atom (3×N matrix)","category":"page"},{"location":"api/highlevel/","page":"High-level Interface","title":"High-level Interface","text":"The exact keys present depend on the compute argument passed to KIMModel().","category":"page"},{"location":"api/highlevel/#Error-Handling","page":"High-level Interface","title":"Error Handling","text":"","category":"section"},{"location":"api/highlevel/","page":"High-level Interface","title":"High-level Interface","text":"The high-level interface provides informative error messages:","category":"page"},{"location":"api/highlevel/","page":"High-level Interface","title":"High-level Interface","text":"# Model doesn't exist\ntry\n    model = KIM.KIMModel(\"NonExistentModel\")\ncatch e\n    println(\"Model creation failed: \", e)\nend\n\n# Unsupported species\ntry\n    results = model([\"Unobtainium\"], positions, cell, pbc)\ncatch e\n    println(\"Species error: \", e)\nend","category":"page"},{"location":"api/species/#Species-Handling","page":"Species Handling","title":"Species Handling","text":"","category":"section"},{"location":"api/species/","page":"Species Handling","title":"Species Handling","text":"Functions for managing chemical species in KIM-API.","category":"page"},{"location":"api/species/#Types-and-Constants","page":"Species Handling","title":"Types and Constants","text":"","category":"section"},{"location":"api/species/#KIM.SpeciesName","page":"Species Handling","title":"KIM.SpeciesName","text":"species.jl\n\nKIM-API species management and utilities.\n\nThis module provides functions for handling chemical species in KIM-API, including species name lookup, validation, and mapping between string representations and integer codes used by KIM models.\n\nKey Types\n\nSpeciesName: Type alias for species integer codes\n\nConstants\n\nSpeciesSymbols: Tuple of all supported chemical element symbols\n\nKey Functions\n\nget_species_number: Convert species string to integer code\nget_species_symbol: Convert species integer code to string\nget_species_codes_from_model: Map species strings to model-specific codes\nget_species_map_closure: Create efficient species mapping function\n\nModel Integration\n\nThe module provides functions to check which species are supported by a specific KIM model and create efficient mappings for repeated use.\n\n\n\n\n\n","category":"type"},{"location":"api/species/#KIM.SpeciesSymbols","page":"Species Handling","title":"KIM.SpeciesSymbols","text":"SpeciesSymbols\n\nTuple containing all chemical element symbols supported by KIM-API.\n\nThis includes all elements from the periodic table from hydrogen (H) to oganesson (Og), plus \"electron\" as a special particle type. The order corresponds to the atomic numbers, with \"electron\" at index 1.\n\nExample\n\nSpeciesSymbols[2]  # \"H\" (hydrogen)\nSpeciesSymbols[15] # \"Si\" (silicon)\n\n\n\n\n\n","category":"constant"},{"location":"api/species/#KIM.SpeciesToAtomicNumbers","page":"Species Handling","title":"KIM.SpeciesToAtomicNumbers","text":"SpeciesToAtomicNumbers\n\nSimple dict map between species symbol and atomic numbers\n\n\n\n\n\n","category":"constant"},{"location":"api/species/#Basic-Species-Functions","page":"Species Handling","title":"Basic Species Functions","text":"","category":"section"},{"location":"api/species/#KIM.get_species_number","page":"Species Handling","title":"KIM.get_species_number","text":"get_species_number(name::String) -> Cint\n\nGet species name constant from string \n\n\n\n\n\n","category":"function"},{"location":"api/species/#KIM.get_species_symbol","page":"Species Handling","title":"KIM.get_species_symbol","text":"get_species_number(species::Cint) -> String\n\nGet species symbol constant from string (e.g., \"Ar\", \"Si\", etc.)\n\n\n\n\n\n","category":"function"},{"location":"api/species/#KIM.species_name_known","page":"Species Handling","title":"KIM.species_name_known","text":"species_name_known(species::SpeciesName) -> Bool\n\nCheck if species name is known/valid in KIM-API.\n\n\n\n\n\n","category":"function"},{"location":"api/species/#KIM.species_name_equal","page":"Species Handling","title":"KIM.species_name_equal","text":"species_name_equal(lhs::SpeciesName, rhs::SpeciesName) -> Bool\n\nCheck if two species names are equal.\n\n\n\n\n\n","category":"function"},{"location":"api/species/#KIM.species_name_not_equal","page":"Species Handling","title":"KIM.species_name_not_equal","text":"species_name_not_equal(lhs::SpeciesName, rhs::SpeciesName) -> Bool\n\nCheck if two species names are not equal.\n\n\n\n\n\n","category":"function"},{"location":"api/species/#Model-Specific-Species-Functions","page":"Species Handling","title":"Model-Specific Species Functions","text":"","category":"section"},{"location":"api/species/#KIM.get_species_support_and_code","page":"Species Handling","title":"KIM.get_species_support_and_code","text":"get_species_support_and_code(model::Model, species::Cint) -> (supported, code)\n\nCheck if a species is supported and get its code.\n\n\n\n\n\n","category":"function"},{"location":"api/species/#KIM.get_species_codes_from_model","page":"Species Handling","title":"KIM.get_species_codes_from_model","text":"get_species_codes(model::Model, species_strings::Vector{String})\n\nCheck species support and return array of KIM species codes for each particle. Throws error if any species not supported. From mdstresslab++\n\n\n\n\n\n","category":"function"},{"location":"api/species/#KIM.get_unique_species_map","page":"Species Handling","title":"KIM.get_unique_species_map","text":"get_unique_species_map(model::Model, species_list::Vector{String})\n\nCheck unique species and return mapping dict. More efficient when many particles of same species.\n\n\n\n\n\n","category":"function"},{"location":"api/species/#KIM.get_supported_species_map","page":"Species Handling","title":"KIM.get_supported_species_map","text":"get_unique_species_map(model::Model, species_list::Vector{String})\n\nMap all species strings to their codes from the model. TODO: Rename :symbol? It might gte confusing with actual Julia :Symbols\n\n\n\n\n\n","category":"function"},{"location":"api/species/#KIM.get_species_map_closure","page":"Species Handling","title":"KIM.get_species_map_closure","text":"get_static_species_map(model::Model, species_list::Vector{String}) -> Vector{Cint}\nGet a static closure that maps species strings to their codes.\n\n\n\n\n\n","category":"function"},{"location":"api/species/#Usage-Examples","page":"Species Handling","title":"Usage Examples","text":"","category":"section"},{"location":"api/species/#Basic-Species-Lookup","page":"Species Handling","title":"Basic Species Lookup","text":"","category":"section"},{"location":"api/species/","page":"Species Handling","title":"Species Handling","text":"# Convert species string to KIM number\nsi_number = get_species_number(\"Si\")\nar_number = get_species_number(\"Ar\")\n\n# Convert back to string\n@assert get_species_symbol(si_number) == \"Si\"\n\n# Check if species is known\n@assert species_name_known(si_number) == true","category":"page"},{"location":"api/species/#Model-Specific-Species-Handling","page":"Species Handling","title":"Model-Specific Species Handling","text":"","category":"section"},{"location":"api/species/","page":"Species Handling","title":"Species Handling","text":"using KIM\n\n# Create a model\nmodel = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\")\n\n# Get species codes for specific atoms\nspecies_strings = [\"Si\", \"Si\", \"Si\"]\nspecies_codes = get_species_codes_from_model(model, species_strings)\n\n# Create efficient species mapping\nspecies_map = get_unique_species_map(model, unique(species_strings))\nprintln(\"Si has code: \", species_map[\"Si\"])\n\n# Create a reusable species mapper\nmapper = get_species_map_closure(model)\ncodes = mapper([\"Si\", \"Si\"])  # Fast repeated mapping","category":"page"},{"location":"api/species/#Error-Handling","page":"Species Handling","title":"Error Handling","text":"","category":"section"},{"location":"api/species/","page":"Species Handling","title":"Species Handling","text":"# This will throw an error if Cu is not supported by a Si-only model\ntry\n    codes = get_species_codes_from_model(model, [\"Cu\"])\ncatch e\n    println(\"Error: \", e)\n    # Handle unsupported species\nend","category":"page"},{"location":"api/constants/#Constants-and-Units","page":"Constants & Units","title":"Constants & Units","text":"","category":"section"},{"location":"api/constants/","page":"Constants & Units","title":"Constants & Units","text":"This page documents the constants, enumerations, and unit systems provided by KIM.jl.","category":"page"},{"location":"api/constants/#Enumerations","page":"Constants & Units","title":"Enumerations","text":"","category":"section"},{"location":"api/constants/","page":"Constants & Units","title":"Constants & Units","text":"The following enumerations are defined and exported from KIM.jl:","category":"page"},{"location":"api/constants/","page":"Constants & Units","title":"Constants & Units","text":"Numbering: Zero-based or one-based indexing\nLengthUnit: Length units (angstrom, meter, etc.)\nEnergyUnit: Energy units (eV, Joule, etc.)\nChargeUnit: Charge units (electron charge, Coulomb, etc.)\nTemperatureUnit: Temperature units (Kelvin)\nTimeUnit: Time units (second, femtosecond, etc.)\nComputeArgumentName: KIM-API compute argument names\nComputeCallbackName: KIM-API callback function names\nLanguageName: Programming language identifiers\nSupportStatus: Support status for model features","category":"page"},{"location":"api/constants/#Unit-Systems","page":"Constants & Units","title":"Unit Systems","text":"","category":"section"},{"location":"api/constants/","page":"Constants & Units","title":"Constants & Units","text":"The package provides several predefined unit systems through UNIT_STYLES and the get_lammps_style_units() function:","category":"page"},{"location":"api/constants/","page":"Constants & Units","title":"Constants & Units","text":":metal: Ångström, eV, electron charge, Kelvin, picosecond (LAMMPS metal units)\n:real: Ångström, kcal/mol, electron charge, Kelvin, femtosecond (LAMMPS real units)\n:si: meter, Joule, Coulomb, Kelvin, second (SI units)\n:cgs: centimeter, erg, statCoulomb, Kelvin, second (CGS units)\n:electron: Bohr, Hartree, electron charge, Kelvin, femtosecond (atomic units)","category":"page"},{"location":"api/constants/","page":"Constants & Units","title":"Constants & Units","text":"Use get_lammps_style_units(:metal) to get the tuple of units for a given style.","category":"page"},{"location":"api/constants/#Constant-Lookup-Functions","page":"Constants & Units","title":"Constant Lookup Functions","text":"","category":"section"},{"location":"api/constants/#KIM.get_numbering","page":"Constants & Units","title":"KIM.get_numbering","text":"get_numbering(name::String) -> Cint\n\nGet numbering constant from string name (\"zeroBased\" or \"oneBased\")\n\n\n\n\n\n","category":"function"},{"location":"api/constants/#KIM.get_length_unit","page":"Constants & Units","title":"KIM.get_length_unit","text":"get_length_unit(name::String) -> Cint\n\nGet length unit constant from string name (\"A\", \"Bohr\", \"cm\", \"m\", \"nm\")\n\n\n\n\n\n","category":"function"},{"location":"api/constants/#KIM.get_energy_unit","page":"Constants & Units","title":"KIM.get_energy_unit","text":"get_energy_unit(name::String) -> Cint\n\nGet energy unit constant from string name (\"eV\", \"J\", \"kcal_mol\", etc.)\n\n\n\n\n\n","category":"function"},{"location":"api/constants/#KIM.get_charge_unit","page":"Constants & Units","title":"KIM.get_charge_unit","text":"get_charge_unit(name::String) -> Cint\n\nGet charge unit constant from string name (\"C\", \"e\")\n\n\n\n\n\n","category":"function"},{"location":"api/constants/#KIM.get_temperature_unit","page":"Constants & Units","title":"KIM.get_temperature_unit","text":"get_temperature_unit(name::String) -> Cint\n\nGet temperature unit constant from string name (\"K\")\n\n\n\n\n\n","category":"function"},{"location":"api/constants/#KIM.get_time_unit","page":"Constants & Units","title":"KIM.get_time_unit","text":"get_time_unit(name::String) -> Cint\n\nGet time unit constant from string name (\"fs\", \"ps\", \"ns\", \"s\")\n\n\n\n\n\n","category":"function"},{"location":"api/constants/#KIM.get_compute_argument_name","page":"Constants & Units","title":"KIM.get_compute_argument_name","text":"get_compute_argument_name(name::String) -> Cint\n\nGet compute argument name constant from string\n\n\n\n\n\n","category":"function"},{"location":"api/constants/#KIM.get_compute_callback_name","page":"Constants & Units","title":"KIM.get_compute_callback_name","text":"get_compute_callback_name(name::String) -> Cint\n\nGet compute callback name constant from string\n\n\n\n\n\n","category":"function"},{"location":"api/constants/#KIM.get_language_name","page":"Constants & Units","title":"KIM.get_language_name","text":"get_language_name(name::String) -> Cint\n\nGet language name constant from string (\"c\", \"cpp\", \"fortran\")\n\n\n\n\n\n","category":"function"},{"location":"api/constants/#KIM.get_support_status","page":"Constants & Units","title":"KIM.get_support_status","text":"get_support_status(name::String) -> Cint\n\nGet support status constant from string (\"required\", \"optional\", \"notSupported\")\n\n\n\n\n\n","category":"function"},{"location":"api/constants/#String-Conversion-Functions","page":"Constants & Units","title":"String Conversion Functions","text":"","category":"section"},{"location":"api/constants/#KIM.numbering_to_string","page":"Constants & Units","title":"KIM.numbering_to_string","text":"numbering_to_string(value::Cint) -> String\n\nConvert numbering integer to string\n\n\n\n\n\n","category":"function"},{"location":"api/constants/#KIM.length_unit_to_string","page":"Constants & Units","title":"KIM.length_unit_to_string","text":"length_unit_to_string(value::Cint) -> String\n\nConvert length unit integer to string\n\n\n\n\n\n","category":"function"},{"location":"api/constants/#KIM.energy_unit_to_string","page":"Constants & Units","title":"KIM.energy_unit_to_string","text":"energy_unit_to_string(value::Cint) -> String\n\nConvert energy unit integer to string\n\n\n\n\n\n","category":"function"},{"location":"api/constants/#KIM.compute_argument_name_to_string","page":"Constants & Units","title":"KIM.compute_argument_name_to_string","text":"compute_argument_name_to_string(value::Cint) -> String\n\nConvert compute argument name integer to string\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#Getting-Started","page":"Getting Started","title":"Getting Started","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"This guide will help you get up and running with KIM.jl.","category":"page"},{"location":"getting_started/#Installation","page":"Getting Started","title":"Installation","text":"","category":"section"},{"location":"getting_started/#Step-1:-Install-KIM-API","page":"Getting Started","title":"Step 1: Install KIM-API","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"KIM-API provides packages for various OS and distributions. For all the information, and instructions on how to install KIM-API, visit KIM-API Github repo, and the installation notes.","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Easiest way to install KIM-API is via Conda:","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"conda create -n kim-api kim-api=2.4 -c conda-forge\nconda activate kim-api\nexport KIM_API_LIB=${CONDA_PREFIX}/lib/libkim-api.so # for KIM.jl to find the library","category":"page"},{"location":"getting_started/#Step-2:-Install-KIM.jl","page":"Getting Started","title":"Step 2: Install KIM.jl","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"using Pkg\nPkg.add(url=\"https://github.com/ipcamit/KIM.jl.git\")","category":"page"},{"location":"getting_started/#Step-3:-Test-Installation","page":"Getting Started","title":"Step 3: Test Installation","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"using KIM\n\n# This should not throw an error\nprintln(\"KIM-API library loaded successfully!\")","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"If you get a library loading error, you may need to set the KIM_API_LIB environment variable:","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"export KIM_API_LIB=\"/path/to/libkim-api.so\"","category":"page"},{"location":"getting_started/#Your-First-Calculation","page":"Getting Started","title":"Your First Calculation","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Let's compute the energy and forces for a simple silicon system using the Stillinger-Weber potential.","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"using KIM\nusing StaticArrays\nusing LinearAlgebra\n\n# Create a KIM model\nmodel = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\")\n\n# Define a simple silicon system\nspecies = [\"Si\", \"Si\"]\npositions = [\n        SVector(0.    , 0.    , 0.    ),\n        SVector(1.3575, 1.3575, 1.3575),\n]\n# Silicon lattice cell\ncell = Matrix([[0.0, 2.715, 2.715] [2.715, 0.0, 2.715] [2.715, 2.715, 0.0]])\n\n# Use periodic boundary conditions\npbc = [true, true, true]\n\n# Compute energy and forces\nresults = model(species, positions, cell, pbc)\n\nprintln(\"Energy: $(results[:energy]) eV\")\nprintln(\"Forces:\")\nfor (i, force) in enumerate(eachcol(results[:forces]))\n    println(\"  Atom $i: $force eV/Å\")\nend","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Expected output:","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Energy: -8.67279650983989 eV\n\nForces:\n  Atom 1: [0.0, 0.0, -4.336808689942018e-19] eV/Å\n  Atom 2: [-6.505213034913027e-19, -6.505213034913027e-19, -8.673617379884035e-19] eV/Å","category":"page"},{"location":"getting_started/#Understanding-the-Results","page":"Getting Started","title":"Understanding the Results","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Energy: Total potential energy of the system in eV\nForces: Forces on each atom in eV/Å (note the units depend on your chosen unit system)","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"The forces should sum to approximately zero for an isolated system due to Newton's third law.","category":"page"},{"location":"getting_started/#Exploring-Available-Models","page":"Getting Started","title":"Exploring Available Models","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"KIM-API provides access to hundreds of validated interatomic models. You can browse them at openkim.org.","category":"page"},{"location":"getting_started/#Working-with-Different-Elements","page":"Getting Started","title":"Working with Different Elements","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"# Copper using EAM potential\ncu_model = KIM.KIMModel(\"EAM_Dynamo_MendelevSordeletKramer_2007_CuZr__MO_120596890176_005\")\n\n# Define copper system\ncu_species = [\"Cu\", \"Cu\", \"Cu\", \"Cu\"]\ncu_positions = [\n    SVector(0.0, 0.0, 0.0),\n    SVector(1.805, 1.805, 0.0),\n    SVector(1.805, 0.0, 1.805),\n    SVector(0.0, 1.805, 1.805)\n]\n\n# FCC copper lattice parameter\na_cu = 3.61\ncu_cell = Matrix(a_cu * I(3))\ncu_pbc = [true, true, true]\n\ncu_results = cu_model(cu_species, cu_positions, cu_cell, cu_pbc)\nprintln(\"Copper energy: $(cu_results[:energy]) eV\")","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Energy: 3.834811682114341 eV","category":"page"},{"location":"getting_started/#Unit-Systems","page":"Getting Started","title":"Unit Systems","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"KIM.jl supports multiple unit systems. The default is :metal (LAMMPS metal units):","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"# Explicit unit specification\nmodel_real = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\", \n                      units=:real)  # kcal/mol, Å, fs\n\nmodel_si = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\",\n                    units=:si)    # J, m, s","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Unit System Length Energy Time Notes\n:metal Å eV ps Most common for atomistic simulations\n:real Å kcal/mol fs LAMMPS real units\n:si m J s SI base units\n:cgs cm erg s CGS units\n:electron Bohr Hartree fs Atomic units","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"You can also specify custom collection of units by passing a tuple of units during model creation:","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"custom_units = (length=KIM.A, energy=KIM.eV, time=KIM.fs, charge=KIM.e, temperature=KIM.K)\nmodel_custom = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\", \n                        units=custom_units)","category":"page"},{"location":"getting_started/#Performance-Considerations","page":"Getting Started","title":"Performance Considerations","text":"","category":"section"},{"location":"getting_started/#Reuse-Model-Functions","page":"Getting Started","title":"Reuse Model Functions","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Creating a KIM model has overhead, so reuse the function:","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"# Good: create once\nmodel = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\")\n\n# Use many times\nfor configuration in configurations\n    results = model(species, configuration.positions, cell, pbc)\n    # Process results...\nend","category":"page"},{"location":"getting_started/#Choose-Appropriate-Compute-Options","page":"Getting Started","title":"Choose Appropriate Compute Options","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"If you only need energy (not forces):","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"model_energy_only = kim_model.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\",\n                             compute=[:energy])","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"This can be significantly faster for large systems.","category":"page"},{"location":"getting_started/#Common-Issues","page":"Getting Started","title":"Common Issues","text":"","category":"section"},{"location":"getting_started/#Library-Not-Found","page":"Getting Started","title":"Library Not Found","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"ERROR: KIM-API library not found in system paths.","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Solution: Install KIM-API or set the environment variable:","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"export KIM_API_LIB=\"/usr/local/lib/libkim-api.so\"","category":"page"},{"location":"getting_started/#Model-Not-Found","page":"Getting Started","title":"Model Not Found","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"ERROR: Model creation failed with error code: 1","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Solutions:","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Check the model name spelling\nInstall the model: kim-api-collections-management install user <model-name>\nBrowse available models at openkim.org","category":"page"},{"location":"getting_started/#Species-Not-Supported","page":"Getting Started","title":"Species Not Supported","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"ERROR: Species 'Unobtainium' not supported by model","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Solution: Check which elements the model supports. Most models specify supported elements in their documentation.","category":"page"},{"location":"getting_started/#Next-Steps","page":"Getting Started","title":"Next Steps","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Check out advanced usage patterns in the examples\nCheck out Examples for real-world applications\nExplore the API Reference for detailed documentation\nVisit openkim.org to discover more models","category":"page"},{"location":"api/utils/#Utility-functions","page":"Utilities","title":"Utility functions","text":"","category":"section"},{"location":"api/utils/#KIM.scatter_add!","page":"Utilities","title":"KIM.scatter_add!","text":"scatter_add!(dst::AbstractArray, src::AbstractArray, idx::AbstractArray; dims=1)\n\nPerform a scatter-add operation in-place. This function adds elements from src to dst at the indices specified by idx. It is useful for accumulating results in a pre-allocated destination vector.\n\nArguments\n\ndst::AbstractArray: Destination vector where elements will be added.\nsrc::AbstractArray: Source vector whose elements are added to dst.\nidx::AbstractArray{<:Integer}: Indices in dst where src elements will be added.\ndims::Int: Dimension along which to scatter-add. Default is 1.\n\nReturns\n\nThe modified dst vector with accumulated results.\n\n\n\n\n\n","category":"function"},{"location":"api/utils/#KIM.add_forces","page":"Utilities","title":"KIM.add_forces","text":"add_forces(idx::AbstractArray{<:Integer}, src::AbstractArray)\n\nPerform a scatter-add operation to accumulate forces. This function is specifically designed to accumulate forces from multiple atoms into a single destination array based on the provided indices.\n\nArguments\n\nsrc::AbstractArray: Source array containing forces to be added.\nidx::AbstractArray{<:Integer}: Indices in the destination array where   forces will be accumulated.\n\nReturns\n\nA new array containing the accumulated forces at the specified indices.\n\nNote\n\nThis function assumes that idx contains valid indices for the destination array.\nThe destination array is initialized to zero before accumulation.\n\n```\n\n\n\n\n\n","category":"function"},{"location":"examples/#Examples","page":"Examples","title":"Examples","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"This page provides practical examples of using KIM.jl for various molecular simulation tasks.","category":"page"},{"location":"examples/#Basic-Examples","page":"Examples","title":"Basic Examples","text":"","category":"section"},{"location":"examples/#Computing-Energy-and-Forces","page":"Examples","title":"Computing Energy and Forces","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"using KIM\nusing StaticArrays\nusing LinearAlgebra\n\n# Create a KIM model for silicon\nmodel = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\")\n\n# Define a silicon dimer\nspecies = [\"Si\", \"Si\"]\npositions = [\n    SVector(0.0, 0.0, 0.0),     # First silicon atom\n    SVector(2.35, 0.0, 0.0)     # Second silicon atom at equilibrium distance\n]\n\n# Set up periodic cell (large enough to avoid self-interaction)\ncell = 10.0 * I(3)  # 10×10×10 Å cubic cell\npbc = [true, true, true]\n\n# Compute properties\nresults = model(species, positions, cell, pbc)\n\nprintln(\"Energy: $(results[:energy]) eV\")\nprintln(\"Force on atom 1: $(results[:forces][:, 1]) eV/Å\")\nprintln(\"Force on atom 2: $(results[:forces][:, 2]) eV/Å\")","category":"page"},{"location":"examples/#Energy-Minimization","page":"Examples","title":"Energy Minimization","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"using KIM, Optim\nusing StaticArrays, LinearAlgebra\n\n# Set up model and initial structure\nmodel = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\")\nspecies = [\"Si\", \"Si\"]\ncell = [5.43 0.0 0.0; 0.0 5.43 0.0; 0.0 0.0 5.43]\npbc = [true, true, true]\n\n# Objective function for optimization\nfunction objective(x)\n    pos = [SVector(0.0, 0.0, 0.0), SVector(x[1], x[2], x[3])]\n    results = model(species, pos, cell, pbc)\n    return results[:energy]\nend\n\n# Optimize second atom position\ninitial_pos = [2.5, 0.0, 0.0]  # Starting guess\nresult = result = optimize(objective, initial_pos, BFGS(), Optim.Options(f_tol=1e-4))\n\nprintln(\"Optimized position: \", result.minimizer)\nprintln(\"Minimum energy: \", result.minimum)","category":"page"},{"location":"api/model/#Model-Management","page":"Model Management","title":"Model Management","text":"","category":"section"},{"location":"api/model/","page":"Model Management","title":"Model Management","text":"Low-level model creation and management functions for advanced users.","category":"page"},{"location":"api/model/#Types","page":"Model Management","title":"Types","text":"","category":"section"},{"location":"api/model/#KIM.Model","page":"Model Management","title":"KIM.Model","text":"Model\n\nWrapper for KIM-API model pointer.\n\nThis mutable struct holds a pointer to a KIM-API model instance. The pointer should be initialized using create_model() and destroyed using destroy_model!() to prevent memory leaks.\n\nFields\n\np::Ptr{Cvoid}: C pointer to the KIM-API model\n\n\n\n\n\n","category":"type"},{"location":"api/model/#KIM.ComputeArguments","page":"Model Management","title":"KIM.ComputeArguments","text":"ComputeArguments\n\nWrapper for KIM-API compute arguments pointer.\n\nThis mutable struct holds a pointer to a KIM-API compute arguments instance, which contains all the data needed for model calculations including particle positions, species, and output arrays.\n\nFields\n\np::Ptr{Cvoid}: C pointer to the KIM-API compute arguments\n\n\n\n\n\n","category":"type"},{"location":"api/model/#Model-Creation","page":"Model Management","title":"Model Creation","text":"","category":"section"},{"location":"api/model/#KIM.create_model","page":"Model Management","title":"KIM.create_model","text":"create_model(numbering, length_unit, energy_unit, charge_unit, temperature_unit, time_unit, model_name) -> (Model, Bool)\n\nCreate a new KIM-API model instance with specified units.\n\nArguments\n\nnumbering::Numbering: Indexing scheme (zeroBased or oneBased)\nlength_unit::LengthUnit: Length unit (A, Bohr, cm, m, nm)\nenergy_unit::EnergyUnit: Energy unit (eV, J, kcal_mol, etc.)\ncharge_unit::ChargeUnit: Charge unit (C, e, statC)\ntemperature_unit::TemperatureUnit: Temperature unit (K)\ntime_unit::TimeUnit: Time unit (fs, ps, ns, s)\nmodel_name::String: Name of the KIM model to load\n\nReturns\n\nModel: The created model instance\nBool: Whether the specified units were accepted by the model\n\nThrows\n\nErrorException: If model creation fails\n\nExample\n\nmodel, accepted = create_model(\n    zeroBased, A, eV, e, K, ps,\n    \"SW_StillingerWeber_1985_Si__MO_405512056662_006\"\n)\nif !accepted\n    error(\"Model rejected the specified units\")\nend\n\n\n\n\n\n","category":"function"},{"location":"api/model/#KIM.destroy_model!","page":"Model Management","title":"KIM.destroy_model!","text":"destroy_model!(model::Model)\n\nDestroy a Model and free memory. TODO: Is this needed? The model should automatically be destroyed when the Julia process exits.\n\n\n\n\n\n","category":"function"},{"location":"api/model/#Compute-Arguments","page":"Model Management","title":"Compute Arguments","text":"","category":"section"},{"location":"api/model/#KIM.create_compute_arguments","page":"Model Management","title":"KIM.create_compute_arguments","text":"create_compute_arguments(model::Model) -> ComputeArguments\n\nCreate compute arguments for the model.\n\n\n\n\n\n","category":"function"},{"location":"api/model/#KIM.destroy_compute_arguments!","page":"Model Management","title":"KIM.destroy_compute_arguments!","text":"destroy_compute_arguments!(model::Model, args::ComputeArguments)\n\nDestroy compute arguments.\n\n\n\n\n\n","category":"function"},{"location":"api/model/#KIM.set_argument_pointer!","page":"Model Management","title":"KIM.set_argument_pointer!","text":"set_argument_pointer!(args::ComputeArguments, arg_name::ComputeArgumentName, ptr)\n\nSet an integer argument pointer.\n\n\n\n\n\nset_argument_pointer!(args::ComputeArguments, arg_name::ComputeArgumentName, ptr)\n\nSet a double argument pointer.\n\n\n\n\n\n","category":"function"},{"location":"api/model/#Model-Properties","page":"Model Management","title":"Model Properties","text":"","category":"section"},{"location":"api/model/#KIM.get_influence_distance","page":"Model Management","title":"KIM.get_influence_distance","text":"get_influence_distance(model::Model) -> Float64\n\nGet the influence distance (cutoff) from the model.\n\n\n\n\n\n","category":"function"},{"location":"api/model/#KIM.get_neighbor_list_pointers","page":"Model Management","title":"KIM.get_neighbor_list_pointers","text":"get_neighbor_list_pointers(model::Model) -> (n_lists, cutoffs, will_not_request)\n\nGet neighbor list information from the model.\n\n\n\n\n\n","category":"function"},{"location":"api/model/#KIM.get_argument_support_status","page":"Model Management","title":"KIM.get_argument_support_status","text":"get_argument_support_status(args::ComputeArguments, arg_name::ComputeArgumentName) -> SupportStatus\n\nGet the support status for a compute argument.\n\n\n\n\n\n","category":"function"},{"location":"api/model/#Computation","page":"Model Management","title":"Computation","text":"","category":"section"},{"location":"api/model/#KIM.compute!","page":"Model Management","title":"KIM.compute!","text":"compute!(model::Model, args::ComputeArguments)\n\nExecute the model computation.\n\n\n\n\n\n","category":"function"},{"location":"api/model/#KIM.set_callback_pointer!","page":"Model Management","title":"KIM.set_callback_pointer!","text":"set_callback_pointer!(args::ComputeArguments, callback::ComputeCallbackName,\n                     language::LanguageName, func_ptr, data_ptr)\n\nSet a callback function pointer.\n\n\n\n\n\n","category":"function"},{"location":"api/model/#Usage-Example","page":"Model Management","title":"Usage Example","text":"","category":"section"},{"location":"api/model/","page":"Model Management","title":"Model Management","text":"using KIM\n\n# Create model with specific units\nmodel, accepted = create_model(\n    zeroBased, A, eV, e, K, ps,\n    \"SW_StillingerWeber_1985_Si__MO_405512056662_006\"\n)\n\nif !accepted\n    error(\"Model rejected the specified units\")\nend\n\n# Create compute arguments\nargs = create_compute_arguments(model)\n\n# Check what properties are supported\nenergy_support = get_argument_support_status(args, partialEnergy)\nforces_support = get_argument_support_status(args, partialForces)\n\nprintln(\"Energy support: \", energy_support)\nprintln(\"Forces support: \", forces_support)\n\n# Get neighbor list requirements\nn_lists, cutoffs, will_not_request = get_neighbor_list_pointers(model)\nprintln(\"Model requires \", n_lists, \" neighbor lists with cutoffs: \", cutoffs)\n\n# Set up data pointers\nn_particles = length(species)\nspecies_codes = get_species_codes_from_model(model, species)\n\nset_argument_pointer!(args, numberOfParticles, Ref{Cint}(n_particles))\nset_argument_pointer!(args, particleSpeciesCodes, species_codes)\nset_argument_pointer!(args, coordinates, positions_matrix)\nset_argument_pointer!(args, particleContributing, contributing_flags)\n\n# Set up output arrays\nenergy = Ref{Cdouble}(0.0)\nforces = zeros(Cdouble, 3, n_particles)\n\nset_argument_pointer!(args, partialEnergy, energy)\nset_argument_pointer!(args, partialForces, forces)\n\n# Set neighbor list callback (if needed)\n# ... callback setup ...\n\n# Perform calculation\ncompute!(model, args)\n\nprintln(\"Computed energy: \", energy[])\nprintln(\"Computed forces: \", forces)\n\n# Cleanup\ndestroy_compute_arguments!(model, args)\ndestroy_model!(model)","category":"page"},{"location":"api/model/#Memory-Management","page":"Model Management","title":"Memory Management","text":"","category":"section"},{"location":"api/model/","page":"Model Management","title":"Model Management","text":"The low-level interface requires careful memory management:","category":"page"},{"location":"api/model/","page":"Model Management","title":"Model Management","text":"Always destroy created objects when done\nKeep references to arrays passed to set_argument_pointer!\nUse GC.@preserve during computation to prevent garbage collection\nCheck return codes for all operations","category":"page"},{"location":"api/model/","page":"Model Management","title":"Model Management","text":"# Proper memory management pattern\nmodel, accepted = create_model(...)\ntry\n    args = create_compute_arguments(model)\n    try\n        # ... set up pointers and compute ...\n        GC.@preserve species_codes positions forces energy begin\n            compute!(model, args)\n        end\n    finally\n        destroy_compute_arguments!(model, args)\n    end\nfinally\n    destroy_model!(model)\nend","category":"page"},{"location":"api/neighborlist/#Neighbor-Lists","page":"Neighbor Lists","title":"Neighbor Lists","text":"","category":"section"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"Neighbor list implementation and callback functions for KIM-API.","category":"page"},{"location":"api/neighborlist/#Types","page":"Neighbor Lists","title":"Types","text":"","category":"section"},{"location":"api/neighborlist/#KIM.NeighborListContainer","page":"Neighbor Lists","title":"KIM.NeighborListContainer","text":"NeighborListContainer\n\nContainer for neighbor list data with KIMNeighborList backend.\n\nThis mutable struct stores the neighbor list query function for efficient access during KIM-API callback queries. It includes the query function and temporary storage for index conversions.\n\nFields\n\nneighbors::Vector{Vector{Int32}}: Pre-computed neighbors for each atom\ntemp_storage::Vector{Int32}: Reusable storage for current neighbor query\n\nNotes\n\nThe temp_storage field is used to convert between Julia's 1-based indexing and KIM-API's 0-based indexing during callback execution, avoiding memory allocations in the hot path.\n\n\n\n\n\n","category":"type"},{"location":"api/neighborlist/#Functions","page":"Neighbor Lists","title":"Functions","text":"","category":"section"},{"location":"api/neighborlist/#KIM.create_kim_neighborlists","page":"Neighbor Lists","title":"KIM.create_kim_neighborlists","text":"Create neighbor lists for KIM-API using KIMNeighborList C++ backend. It uses the lower level API of KIMNeighborList to return all required information. Below is the copy pasted code from the KIMNeighborList package\n\nTODO: Add the desired function in KIMNeighborLists, so that here it is blank call to the neighlist library?\n\nReturns: (nlcontainer, allcoordinates, allspecies, contributing, atomindices)\n\nnl_container: Neighbor list data for each cutoff\nall_coordinates: Positions including ghost atoms  \nall_species: Species including ghost atoms\ncontributing: 1 for real atoms, 0 for ghosts\natom_indices: Original atom index for each position\n\nThe function creates neighbor lists for each cutoff using the KIMNeighborList backend and handles ghost atom generation for periodic boundary conditions.\n\n\n\n\n\n","category":"function"},{"location":"api/neighborlist/#KIM.kim_neighbors_callback","page":"Neighbor Lists","title":"KIM.kim_neighbors_callback","text":"kimneighborscallback(...)\n\nKIM-API callback for neighbor queries. All indices are 0-based from KIM.\n\n\n\n\n\n","category":"function"},{"location":"api/neighborlist/#Macros","page":"Neighbor Lists","title":"Macros","text":"","category":"section"},{"location":"api/neighborlist/#KIM.@cast_as_kim_neigh_fptr","page":"Neighbor Lists","title":"KIM.@cast_as_kim_neigh_fptr","text":"@cast_as_kim_neigh_fptr(func)\n\nMacro to create a C function pointer for KIM-API neighbor list callbacks. This macro converts a Julia function into a C-compatible function pointer for use with KIM-API's neighbor list interface.\n\n\n\n\n\n","category":"macro"},{"location":"api/neighborlist/#Implementation-Details","page":"Neighbor Lists","title":"Implementation Details","text":"","category":"section"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"The neighbor list system in KIM.jl handles several complex aspects of KIM-API integration:","category":"page"},{"location":"api/neighborlist/#Periodic-Boundary-Conditions","page":"Neighbor Lists","title":"Periodic Boundary Conditions","text":"","category":"section"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"When periodic boundary conditions are enabled, the system automatically creates ghost atoms:","category":"page"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"# Original atoms at positions\npositions = [SVector(0.0, 0.0, 0.0), SVector(4.8, 0.0, 0.0)]\n\n# With PBC, ghost atoms are created for neighbors across boundaries\ncontainers, all_positions, all_species, contributing, atom_indices = \n    create_kim_neighborlists(positions, [3.0], cell, [true, true, true])\n\n# all_positions now includes both real atoms and their periodic images\n# contributing flags: 1 for real atoms, 0 for ghost atoms","category":"page"},{"location":"api/neighborlist/#Multiple-Cutoffs","page":"Neighbor Lists","title":"Multiple Cutoffs","text":"","category":"section"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"Some KIM models require multiple neighbor lists with different cutoff distances:","category":"page"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"# Model requires two neighbor lists\ncutoffs = [2.5, 3.5]  # Two different cutoff distances\n\ncontainers, ... = create_kim_neighborlists(positions, cutoffs, cell, pbc)\n# Returns one container per cutoff distance","category":"page"},{"location":"api/neighborlist/#Index-Conversion","page":"Neighbor Lists","title":"Index Conversion","text":"","category":"section"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"The callback system handles conversion between Julia's 1-based and KIM-API's 0-based indexing:","category":"page"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"Julia uses 1-based indexing internally\nKIM-API expects 0-based indexing\nThe callback function performs automatic conversion","category":"page"},{"location":"api/neighborlist/#Callback-Function-Signature","page":"Neighbor Lists","title":"Callback Function Signature","text":"","category":"section"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"The neighbor callback must match this exact C signature:","category":"page"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"int callback(void* data_object, int number_of_neighbor_lists, \n            double* cutoffs, int neighbor_list_index, int particle_number,\n            int* number_of_neighbors, int** neighbors_list_pointer)","category":"page"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"You can cast this into expected function pointer using KIM.cast_as_kim_neigh_fptr.","category":"page"},{"location":"api/neighborlist/#Memory-Management","page":"Neighbor Lists","title":"Memory Management","text":"","category":"section"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"The neighbor list containers maintain persistent storage to ensure:","category":"page"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"Neighbor arrays remain valid after callback returns\nNo memory allocations during callback execution\nProper cleanup when containers are garbage collected","category":"page"},{"location":"api/neighborlist/#Usage-Examples","page":"Neighbor Lists","title":"Usage Examples","text":"","category":"section"},{"location":"api/neighborlist/#Basic-Usage","page":"Neighbor Lists","title":"Basic Usage","text":"","category":"section"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"using KIM, StaticArrays\n\n# Define atomic positions\npositions = [SVector(0.0, 0.0, 0.0), SVector(2.5, 0.0, 0.0)]\nspecies = [\"Si\", \"Si\"]\ncell = Matrix(5.0 * I(3))\npbc = [true, true, true]\n\n# Create neighbor lists for 3.0 Å cutoff\ncontainers, all_pos, all_spec, contrib, indices = \n    create_kim_neighborlists(positions, [3.0], species, \n                           cell=cell, pbc=pbc)","category":"page"},{"location":"api/neighborlist/#With-KIM-Model","page":"Neighbor Lists","title":"With KIM Model","text":"","category":"section"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"# The high-level interface handles this automatically\nmodel = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\")\nresults = model(species, positions, cell, pbc)\n# Neighbor lists are created and managed internally","category":"page"},{"location":"api/neighborlist/#Custom-Neighbor-Functions","page":"Neighbor Lists","title":"Custom Neighbor Functions","text":"","category":"section"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"For advanced users who need custom neighbor list implementations:","category":"page"},{"location":"api/neighborlist/","page":"Neighbor Lists","title":"Neighbor Lists","text":"# Create your own neighbor function\nfunction my_neighbor_function(positions, cutoff, cell, pbc)\n    # Custom neighbor finding algorithm\n    # Must return neighbors in 1-based Julia indexing\nend\n\n# This would be used in the low-level API\n# (not currently supported in high-level interface)","category":"page"},{"location":"#KIM.jl","page":"Home","title":"KIM.jl","text":"","category":"section"},{"location":"#KIM.KIM","page":"Home","title":"KIM.KIM","text":"KIM.jl\n\nA comprehensive Julia interface to the KIM-API (Knowledgebase of Interatomic Models).\n\nThis package provides both low-level and high-level interfaces to KIM-API, enabling Julia users to access the extensive collection of validated  interatomic models available through the OpenKIM framework.\n\nFeatures\n\nHigh-level functional interface with KIMModel()\nAutomatic species mapping and validation\nEfficient neighbor list generation with periodic boundary conditions\nSupport for multiple unit systems (metal, real, SI, CGS, atomic)\nMemory-safe wrappers around KIM-API C functions\nComprehensive error handling and validation\n\nQuick Start\n\nusing KIM\n\n# Create a model function\nmodel = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\")\n\n# Define atomic system\nspecies = [\"Si\", \"Si\"]\npositions = [SVector(0.0, 0.0, 0.0), SVector(2.7, 2.7, 2.7)]\ncell = 5.43 * I(3)  # Silicon diamond structure\npbc = [true, true, true]\n\n# Compute energy and forces\nresults = model(species, positions, cell, pbc)\nprintln(\"Energy: $(results[:energy]) eV\")\nprintln(\"Forces: $(results[:forces])\")\n\nModules\n\nlibkim.jl: KIM-API library loading and initialization\nconstants.jl: KIM-API constants, enumerations, and unit systems\nmodel.jl: Low-level model creation and management\nspecies.jl: Species handling and validation\nneighborlist.jl: Neighbor list generation and callbacks\nhighlevel.jl: High-level user interface\n\nUnits\n\nThe package supports multiple unit systems:\n\n:metal: Ångström, eV, electron charge, Kelvin, picosecond (LAMMPS metal)\n:real: Ångström, kcal/mol, electron charge, Kelvin, femtosecond (LAMMPS real)\n:si: meter, Joule, Coulomb, Kelvin, second\n:cgs: centimeter, erg, statCoulomb, Kelvin, second\n:electron: Bohr, Hartree, electron charge, Kelvin, femtosecond\n\nKIM-API Integration\n\nThis package wraps the KIM-API C library and provides:\n\nAutomatic memory management\nJulia-native data structures\nType-safe function interfaces\nComprehensive documentation\n\nDependencies\n\nKIM-API C library (must be installed separately)\nKIMNeighborList.jl for efficient C++ neighbor searching\nStaticArrays.jl for position vectors\nCEnum.jl for C enumeration bindings\n\nFor more information about KIM-API and available models, visit:\n\nhttps://openkim.org\nhttps://kim-api.readthedocs.io\n\n\n\n\n\n","category":"module"},{"location":"#Overview","page":"Home","title":"Overview","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"KIM.jl provides both low-level and high-level interfaces to KIM-API, enabling Julia users to access the extensive collection of validated interatomic models available through the OpenKIM framework. Main purpose of this package is to provide a convenient way to integrate KIM models into Julia based MD simulators. Think of this as the Julia equivalent of the KIMPY package but with additional wrappers for ease of use.","category":"page"},{"location":"#Features","page":"Home","title":"Features","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"High-level functional interface with KIMModel()\nAutomatic species mapping and validation\nDefault support for multiple unit systems (metal, real, SI, CGS, atomic)\nMemory-safe wrappers around KIM-API C functions\nComprehensive error handling and validation","category":"page"},{"location":"#Quick-Start","page":"Home","title":"Quick Start","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using KIM, StaticArrays, LinearAlgebra\n\n# Create a model function\nmodel = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\")\n\n# Define atomic system\nspecies = [\"Si\", \"Si\"]\npositions = [SVector(0.0, 0.0, 0.0), SVector(2.7, 2.7, 2.7)]\ncell = Matrix(5.43 * I(3))  # Silicon diamond structure\npbc = [true, true, true]\n\n# Compute energy and forces\nresults = model(species, positions, cell, pbc)\nprintln(\"Energy: $(results[:energy]) eV\")\nprintln(\"Forces: $(results[:forces])\")","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"#Prerequisites","page":"Home","title":"Prerequisites","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"You must have the KIM-API C++ library installed on your system. Visit openkim.org for detailed installation instructions.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Easiest way to install the KIM-API is Conda:","category":"page"},{"location":"","page":"Home","title":"Home","text":"conda create -n kim-api kim-api=2.4 -c conda-forge\nconda activate kim-api\nexport KIM_API_LIB=${CONDA_PREFIX}/lib/libkim-api.so","category":"page"},{"location":"#Package-Installation","page":"Home","title":"Package Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"FOr latest version:","category":"page"},{"location":"","page":"Home","title":"Home","text":"using Pkg\nPkg.add(url=\"https://github.com/ipcamit/KIM.jl.git\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"or","category":"page"},{"location":"","page":"Home","title":"Home","text":"using Pkg\nPkg.add(\"KIM\")","category":"page"},{"location":"#Environment-Setup","page":"Home","title":"Environment Setup","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"If KIM-API is not in your system library path, set the environment variable:","category":"page"},{"location":"","page":"Home","title":"Home","text":"export KIM_API_LIB=\"/path/to/libkim-api.so\"","category":"page"},{"location":"#Supported-Unit-Systems","page":"Home","title":"Supported Unit Systems","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"KIM.jl supports multiple unit systems commonly used in molecular dynamics:","category":"page"},{"location":"","page":"Home","title":"Home","text":"System Length Energy Charge Temperature Time\n:metal Ångström eV e K ps\n:real Ångström kcal/mol e K fs\n:si meter Joule C K s\n:cgs cm erg statC K s\n:electron Bohr Hartree e K fs","category":"page"},{"location":"","page":"Home","title":"Home","text":"You can also specify custom units by passing a named tuple of units during model creation:","category":"page"},{"location":"","page":"Home","title":"Home","text":"custom_units = (length=KIM.A, energy=KIM.eV, time=KIM.fs, charge=KIM.e, temperature=KIM.K)\nmodel_custom = KIM.KIMModel(\"SW_StillingerWeber_1985_Si__MO_405512056662_006\", \n                                 units=custom_units)","category":"page"},{"location":"#KIM-Model-Access","page":"Home","title":"KIM Model Access","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Visit openkim.org to browse the complete model database.","category":"page"},{"location":"#Architecture","page":"Home","title":"Architecture","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The package is organized into several modules:","category":"page"},{"location":"","page":"Home","title":"Home","text":"libkim.jl: KIM-API library loading and initialization\nconstants.jl: KIM-API constants, enumerations, and unit systems\nmodel.jl: Low-level model creation and management\nspecies.jl: Species handling and validation\nneighborlist.jl: Neighbor list generation and callbacks\nhighlevel.jl: High-level user interface","category":"page"},{"location":"#Performance","page":"Home","title":"Performance","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"KIM.jl is designed for high performance:","category":"page"},{"location":"","page":"Home","title":"Home","text":"Pre-computed species mappings minimize lookup overhead\nEfficient neighbor list generation using NeighbourLists.jl\nZero-copy data passing to KIM-API where possible\nMinimal Julia-C FFI overhead\nAutomatic memory management prevents leaks","category":"page"},{"location":"#Citation","page":"Home","title":"Citation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Consider citing the original KIM-API paper:","category":"page"},{"location":"","page":"Home","title":"Home","text":"@article{tadmor2011potential,\n  title={The potential of atomistic simulations and the knowledgebase of interatomic models},\n  author={Tadmor, Ellad B and Elliott, Ryan S and Sethna, James P and Miller, Ronald E and Becker, Chandler A},\n  journal={Jom},\n  volume={63},\n  number={7},\n  pages={17},\n  year={2011},\n  publisher={Springer Nature BV}\n}","category":"page"},{"location":"#License","page":"Home","title":"License","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"KIM.jl is released under the MIT License. See the LICENSE file for details.","category":"page"},{"location":"#Acknowledgments","page":"Home","title":"Acknowledgments","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The OpenKIM project for providing the KIM-API framework\nThe Julia community for excellent packages like StaticArrays.jl and NeighbourLists.jl\nContributors to the KIM model database","category":"page"}]
}
